{"relation": [["Subject", "[MODULE] limit traffic rate for nginx", "Re: [MODULE] limit traffic rate for nginx", "Re: [MODULE] limit traffic rate for nginx", "Re: [MODULE] limit traffic rate for nginx", "Re: [MODULE] limit traffic rate for nginx", "Re: [MODULE] limit traffic rate for nginx"], ["Author", "bigplum", "Maxim Dounin", "bigplum", "bigplum", "Piotr Karbowski", "bigplum"], ["Posted", "December 17, 2010 09:17AM", "December 17, 2010 05:32PM", "December 17, 2010 08:08PM", "January 09, 2011 09:31PM", "January 11, 2011 05:40AM", "May 31, 2013 05:37AM"]], "pageTitle": "[MODULE] limit traffic rate for nginx", "title": "", "url": "http://forum.nginx.org/read.php?2,159398,159398", "hasHeader": true, "headerPosition": "FIRST_ROW", "tableType": "RELATION", "tableNum": 1, "s3Link": "common-crawl/crawl-data/CC-MAIN-2015-32/segments/1438042990112.50/warc/CC-MAIN-20150728002310-00006-ip-10-236-191-2.ec2.internal.warc.gz", "recordEndOffset": 94721587, "recordOffset": 94713385, "tableOrientation": "HORIZONTAL", "textBeforeTable": "RSS Quote Reply } } } limit_traffic_rate rate 20k; location /download/ { server { limit_traffic_rate_zone rate $remote_addr 32m; http { is same to limit_zone. The limit_traffic_rate module need to use a share memory pool. Directive syntax is a multi-thread tool, the total rate also be limited to limit_traffic_rate. if client is a browser, the download max rate will be limit_traffic_rate, if client limit_conn module, and set limit_rate to limit_traffic_rate/cur_conn_number. So The limit_traffic_rate module record connection numbers by the variable like the client is a multi-thread download tool. open one connection to the server. The speed will be limited to limit_rate, unless limit connection number by given variable. If the client is a browser, it only Nginx directive limit_rate could limit connection's speed, and limit_conn could README: https://github.com/bigplum/Nginx-limit-traffic-rate-module I wrote a module to limit rate by given variable rather than limit_rate by connection. Most code of this module is copied from limit_conn module. I'm confusing to write this new module or modify limit_conn module. The modification will be easily but a new module would be installed easily. So, how about this new module? Hello guys: Registered: 4 years ago", "textAfterTable": "Sorry, only registered users may post in this forum. Click here to login Online Users Guests: 102 Record Number of Users: 4 on August 03, 2015 Record Number of Guests: 190 on August 03, 2015 This forum is powered by Phorum. \u00a0\u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0\u00a0", "hasKeyColumn": true, "keyColumnIndex": 1, "headerRowIndex": 0}